{"ast":null,"code":"var _jsxFileName = \"/Users/asd1122/Desktop/project_final/php/Main-P4/src/component/Signup/Signup.js\",\n  _s = $RefreshSig$();\nimport \"./Signup.css\";\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Signup = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const navigate = useNavigate();\n  function validateEmail() {\n    const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (regex.test(email)) {\n      return true;\n    } else {\n      alert(\"Please enter a valid email\");\n      return false;\n    }\n  }\n\n  //make sure entered password is correct regex\n  function validatePassword() {\n    const regex = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n    if (password === confirmPassword) {\n      if (regex.test(password)) {\n        return true;\n      } else {\n        alert(\"Password must have at least: 1 lowercase, 1 uppercase, 1 number at least 8 character and 1 special character\");\n        return false;\n      }\n    } else {\n      alert(\"password not match\");\n    }\n  }\n  function validateForm() {\n    if (validateEmail() && validatePassword()) {\n      axios.post(`http://localhost:3010/customer/signup`, {\n        username: username,\n        password: password,\n        email: email,\n        phone: phone\n      }, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n        }\n      }).then(function (response) {\n        if (response.data.status == \"Username has taken\") {\n          alert(\"Username already taken\");\n        } else if (response.data.status == \"signUp\") {\n          navigate(\"/login\");\n        } else {\n          if (\"error SequelizeUniqueConstraintError: Validation error\" == response.data) {\n            alert(\"User name is already use\");\n          } else {\n            alert(\"error please try again\");\n          }\n        }\n      }).catch(function (error) {});\n    }\n  }\n\n  // admin,password,owner@mail.com,000-000-0000\n\n  const signUp = e => {\n    e.preventDefault();\n    validateForm();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-cont\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reg-form-cont\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"signup-form-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"signup-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"signup-form-lables\",\n          children: \"Username : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signup-form-inputs\",\n          type: \"text\",\n          name: \"username\",\n          placeholder: \" Username\",\n          onChange: e => {\n            setUsername(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"signup-form-lables\",\n          children: \"Password : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signup-form-inputs\",\n          type: \"text\",\n          name: \"password\",\n          placeholder: \" Password\",\n          onChange: e => {\n            setPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"signup-form-lables\",\n          children: \"Confirm Pass : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signup-form-inputs\",\n          type: \"text\",\n          name: \"confirmPassword\",\n          placeholder: \" ConfirmPassword\",\n          onChange: e => {\n            setConfirmPassword(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"signup-form-lables\",\n          children: \"Email : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signup-form-inputs\",\n          type: \"text\",\n          name: \"email\",\n          placeholder: \" Email\",\n          onChange: e => {\n            setEmail(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"signup-form-lables\",\n          children: \"Phone Number : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"signup-form-inputs\",\n          type: \"text\",\n          name: \"phone\",\n          placeholder: \" Phone\",\n          onChange: e => {\n            setPhone(e.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"return-to-login-btn\",\n        onClick: () => navigate(\"/login\"),\n        children: \"Return to login page\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"signup-form-btn\",\n        type: \"button\",\n        onClick: signUp,\n        value: \"SignUp\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 9\n  }, this);\n};\n_s(Signup, \"GDW6lW44YW8StPyFYn6TvUCByzc=\", false, function () {\n  return [useNavigate];\n});\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["useState","axios","useNavigate","Signup","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","email","setEmail","phone","setPhone","navigate","validateEmail","regex","test","alert","validatePassword","validateForm","post","headers","Authorization","localStorage","getItem","then","response","data","status","catch","error","signUp","e","preventDefault","target","value"],"sources":["/Users/asd1122/Desktop/project_final/php/Main-P4/src/component/Signup/Signup.js"],"sourcesContent":["import \"./Signup.css\";\nimport {useState} from \"react\";\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\n\nconst Signup = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const navigate = useNavigate();\n\n    function validateEmail() {\n        const regex =\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (regex.test(email)) {\n            return true;\n        } else {\n            alert(\"Please enter a valid email\");\n            return false;\n        }\n    }\n\n    //make sure entered password is correct regex\n    function validatePassword() {\n        const regex = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n        if (password === confirmPassword) {\n            if (regex.test(password)) {\n                return true;\n            } else {\n                alert(\n                    \"Password must have at least: 1 lowercase, 1 uppercase, 1 number at least 8 character and 1 special character\"\n                );\n                return false;\n            }\n        } else {\n            alert(\"password not match\");\n        }\n    }\n\n    function validateForm() {\n        if (validateEmail() && validatePassword()) {\n            axios\n                .post(`http://localhost:3010/customer/signup`, {\n                    username: username,\n                    password: password,\n                    email: email,\n                    phone: phone,\n                }, {\n                    headers: {Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`},\n                })\n                .then(function (response) {\n                    if(response.data.status==\"Username has taken\"){\n                        alert(\"Username already taken\")\n                    }\n                    else if (response.data.status == \"signUp\") {\n                        navigate(\"/login\");\n                    } else {\n                        if (\n                            \"error SequelizeUniqueConstraintError: Validation error\" ==\n                            response.data\n                        ) {\n                            alert(\"User name is already use\");\n                        } else {\n                            alert(\"error please try again\");\n                        }\n                    }\n\n                })\n                .catch(function (error) {\n                });\n        }\n    }\n\n    // admin,password,owner@mail.com,000-000-0000\n\n    const signUp = (e) => {\n        e.preventDefault();\n        validateForm();\n    };\n    return (\n        <div className=\"main-cont\">\n            <div className=\"reg-form-cont\">\n                <div className=\"signup-form-header\">\n                    <h2>Register</h2>\n                </div>\n                {/* <form onSubmit={signUp}> */}\n                <form className=\"signup-form\">\n                    <h4 className=\"signup-form-lables\">Username : </h4>\n                    <input\n                        className=\"signup-form-inputs\"\n                        type=\"text\"\n                        name=\"username\"\n                        placeholder=\" Username\"\n                        onChange={(e) => {\n                            setUsername(e.target.value);\n                        }}\n                    />\n                    <h4 className=\"signup-form-lables\">Password : </h4>\n                    <input\n                        className=\"signup-form-inputs\"\n                        type=\"text\"\n                        name=\"password\"\n                        placeholder=\" Password\"\n                        onChange={(e) => {\n                            setPassword(e.target.value);\n                        }}\n                    />\n                    <h4 className=\"signup-form-lables\">Confirm Pass : </h4>\n                    <input\n                        className=\"signup-form-inputs\"\n                        type=\"text\"\n                        name=\"confirmPassword\"\n                        placeholder=\" ConfirmPassword\"\n                        onChange={(e) => {\n                            setConfirmPassword(e.target.value);\n                        }}\n                    />\n                    <h4 className=\"signup-form-lables\">Email : </h4>\n                    <input\n                        className=\"signup-form-inputs\"\n                        type=\"text\"\n                        name=\"email\"\n                        placeholder=\" Email\"\n                        onChange={(e) => {\n                            setEmail(e.target.value);\n                        }}\n                    />\n                    <h4 className=\"signup-form-lables\">Phone Number : </h4>\n                    <input\n                        className=\"signup-form-inputs\"\n                        type=\"text\"\n                        name=\"phone\"\n                        placeholder=\" Phone\"\n                        onChange={(e) => {\n                            setPhone(e.target.value);\n                        }}\n                    />\n                    <br></br>\n                </form>\n                <div className=\"return-to-login-btn\" onClick={() => navigate(\"/login\")}>\n                    Return to login page\n                </div>\n                <input\n                    className=\"signup-form-btn\"\n                    type=\"button\"\n                    onClick={signUp}\n                    value=\"SignUp\"\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default Signup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}