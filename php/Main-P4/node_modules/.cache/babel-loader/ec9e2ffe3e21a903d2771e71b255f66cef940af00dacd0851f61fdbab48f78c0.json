{"ast":null,"code":"var _jsxFileName = \"/Users/asd1122/Desktop/project_final/php/Main-P4/src/component/Profile/Profile.js\",\n  _s = $RefreshSig$();\nimport \"./Profile.css\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [firstname, setFirstname] = useState(\"\");\n  const [lastname, setLastname] = useState(\"\");\n  const navigate = useNavigate();\n  function validateEmail() {\n    const regex = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    if (regex.test(email)) {\n      return true;\n    } else {\n      alert(\"Please enter a valid email\");\n      return false;\n    }\n  }\n\n  //make sure entered password is correct regex\n  function validatePassword() {\n    const regex = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n    if (password === confirmPassword) {\n      if (regex.test(password)) {\n        return true;\n      } else {\n        alert(\"Password must have at least: 1 lowercase, 1 uppercase, 1 number at least 8 character and 1 special character\");\n        return false;\n      }\n    } else {\n      alert(\"password not match\");\n    }\n  }\n  function validateForm() {\n    if (validateEmail() && validatePassword()) {\n      axios.post(`http://localhost:3010/customer/edit`, {\n        username: username,\n        password: password,\n        email: email,\n        phone: phone,\n        firstname: firstname,\n        lastname: lastname\n      }).then(function (response) {\n        console.log(response.data.status);\n        if (response.data.status == \"signUp\") {\n          navigate(\"/login\");\n        } else {\n          if (\"error SequelizeUniqueConstraintError: Validation error\" == response.data) {\n            alert(\"User name is already use\");\n          } else {\n            alert(\"error please try again\");\n          }\n        }\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  // admin,password,owner@mail.com,000-000-0000\n\n  const signUp = e => {\n    e.preventDefault();\n    validateForm();\n  };\n  const edit = e => {\n    // validateEmail()\n    // validatePassword()\n    axios.put(`http://localhost:3010/customer/edit`, {\n      username: username,\n      password: password,\n      email: email,\n      phone: phone,\n      firstname: firstname,\n      lastname: lastname\n    }, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(res => {\n      console.log(res);\n      navigate(\"/login\");\n    });\n  };\n  useEffect(() => {\n    axios.get(`http://localhost:3010/customer`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`\n      }\n    }).then(res => {\n      console.log(res);\n      setEmail(res.data.email);\n      setFirstname(res.data.firstname);\n      setLastname(res.data.lastname);\n      setUsername(res.data.username);\n      setPhone(res.data.phone);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"test\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 8\n  }, this);\n};\n_s(Profile, \"cpzsk0y82GuOSZMLg+fiOHuNToY=\", false, function () {\n  return [useNavigate];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["useEffect","useState","axios","useNavigate","Profile","username","setUsername","password","setPassword","confirmPassword","setConfirmPassword","email","setEmail","phone","setPhone","firstname","setFirstname","lastname","setLastname","navigate","validateEmail","regex","test","alert","validatePassword","validateForm","post","then","response","console","log","data","status","catch","error","signUp","e","preventDefault","edit","put","headers","Authorization","localStorage","getItem","res","get","err"],"sources":["/Users/asd1122/Desktop/project_final/php/Main-P4/src/component/Profile/Profile.js"],"sourcesContent":["import \"./Profile.css\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {useNavigate} from \"react-router-dom\";\n\nconst Profile = () => {\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [confirmPassword, setConfirmPassword] = useState(\"\");\n    const [email, setEmail] = useState(\"\");\n    const [phone, setPhone] = useState(\"\");\n    const [firstname, setFirstname] = useState(\"\");\n    const [lastname, setLastname] = useState(\"\");\n    const navigate = useNavigate();\n\n    function validateEmail() {\n        const regex =\n            /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        if (regex.test(email)) {\n            return true;\n        } else {\n            alert(\"Please enter a valid email\");\n            return false;\n        }\n    }\n\n    //make sure entered password is correct regex\n    function validatePassword() {\n        const regex = /^(?=.*\\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n        if (password === confirmPassword) {\n            if (regex.test(password)) {\n                return true;\n            } else {\n                alert(\n                    \"Password must have at least: 1 lowercase, 1 uppercase, 1 number at least 8 character and 1 special character\"\n                );\n                return false;\n            }\n        } else {\n            alert(\"password not match\");\n        }\n    }\n\n    function validateForm() {\n        if (validateEmail() && validatePassword()) {\n            axios\n                .post(`http://localhost:3010/customer/edit`, {\n                    username: username,\n                    password: password,\n                    email: email,\n                    phone: phone,\n                    firstname: firstname,\n                    lastname: lastname,\n                })\n                .then(function (response) {\n                    console.log(response.data.status);\n                    if (response.data.status == \"signUp\") {\n                        navigate(\"/login\");\n                    } else {\n                        if (\n                            \"error SequelizeUniqueConstraintError: Validation error\" ==\n                            response.data\n                        ) {\n                            alert(\"User name is already use\");\n                        } else {\n                            alert(\"error please try again\");\n                        }\n                    }\n                })\n                .catch(function (error) {\n                    console.log(error);\n                });\n        }\n    }\n\n    // admin,password,owner@mail.com,000-000-0000\n\n    const signUp = (e) => {\n        e.preventDefault();\n        validateForm();\n    };\n    const edit = (e) => {\n        // validateEmail()\n        // validatePassword()\n        axios\n            .put(\n                `http://localhost:3010/customer/edit`,\n                {\n                    username: username,\n                    password: password,\n                    email: email,\n                    phone: phone,\n                    firstname: firstname,\n                    lastname: lastname,\n                },\n                {\n                    headers: {Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`},\n                }\n            )\n            .then((res) => {\n                console.log(res);\n                navigate(\"/login\");\n            });\n    };\n    useEffect(() => {\n        axios\n            .get(`http://localhost:3010/customer`, {\n                headers: {Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`},\n            })\n            .then((res) => {\n                console.log(res)\n                setEmail(res.data.email);\n                setFirstname(res.data.firstname);\n                setLastname(res.data.lastname);\n                setUsername(res.data.username);\n                setPhone(res.data.phone);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n    return (\n       <div>\n           test\n        </div>\n    );\n};\n\nexport default Profile;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}